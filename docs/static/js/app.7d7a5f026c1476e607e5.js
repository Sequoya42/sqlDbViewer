webpackJsonp([1],{"7zck":function(e,t){},"9fOT":function(e,t){},LGx0:function(e,t){e.exports={account_validation:"hsl(189.1643124175302, 67.45143544989156%, 45.02287418474903%)",companies:"hsl(115.36608929084086, 89.5922322863222%, 45.73925012754068%)",company_members:"hsl(203.81370194119623, 88.35850882456356%, 45.483585481492376%)",profiles:"hsl(251.67672346573505, 65.3116673290651%, 26.769361597952674%)",project_members:"hsl(150.651232604629, 68.30737530528447%, 61.414326018422976%)",project_owner:"hsl(179.57761394203234, 46.319815015776996%, 25.715259965749333%)",projects:"hsl(189.20062243891533, 47.40166972323924%, 26.94753675928603%)",tags:"hsl(76.57232528709154, 81.69222300874453%, 67.53017760338577%)",tasks:"hsl(229.3451979514988, 81.16875453960512%, 53.97815896571971%)",user_tags:"hsl(282.3014182303317, 35.1307869405731%, 51.171536301713374%)",users:"hsl(161.29671175990416, 69.21922950850927%, 31.99659102133921%)"}},MKfQ:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-app",[t("router-view")],1)},staticRenderFns:[]};var s=a("VU/8")({name:"App"},r,!1,function(e){a("9fOT")},null,null).exports,i=a("/ocq"),o=a("fZjL"),l=a.n(o),c=a("mvHQ"),d=a.n(c),u=a("Dd8w"),m=a.n(u),h={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h4",[this._v("Postgres: "),t("code",[this._v(" pg_dump -s databasename > file.sql\t")])]),this._v(" "),t("h4",[this._v("SQL: "),t("code",[this._v(" mysqldump -u root -p --no-data dbname > schema.sql")])]),this._v(" "),t("h5",[this._v(" Then use that file")])])}]};var p=a("VU/8")({name:"Usage"},h,!1,function(e){a("i5Qr")},"data-v-02524a68",null).exports,f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-flex",{on:{click:function(t){e.emitToggle(e.tKey)}}},[a("v-card",{staticClass:"drawing",style:{borderColor:e.color},attrs:{flat:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("h2",[e._v(e._s(e.tKey))])]),e._v(" "),e._l(e.tValue,function(t,n){return e.toggleInfo?a("v-flex",{key:n},[a("v-card-text",{staticClass:"caption"},[a("h3",{style:{color:t in e.colors?e.colors[t]:"grey"}},[e._v(e._s(n))]),e._v(" "),a("h4",{style:{color:t in e.colors?e.colors[t]:"hsl(249,9%,80%)"}},[e._v(e._s(t))])])],1):e._e()}),e._v(" "),a("v-card-text")],2)],1)},staticRenderFns:[]};var _=a("VU/8")({name:"Table",props:["tKey","tValue","color","colors","toggleInfo"],data:function(){return{}},computed:{},methods:{emitToggle:function(e){this.$emit("toggle",e)}},components:{}},f,!1,function(e){a("PHtK")},"data-v-0fe270d2",null).exports,g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",[a("v-switch",{staticClass:"ml-2",attrs:{label:"Referred by"},model:{value:e.theChild,callback:function(t){e.theChild=t},expression:"theChild"}}),e._v(" "),a("v-switch",{staticClass:"ml-2, pb-2",attrs:{label:"Reference to",color:"green"},model:{value:e.theParent,callback:function(t){e.theParent=t},expression:"theParent"}})],1),e._v(" "),a("v-btn",{attrs:{flat:"",fab:"",color:"teal"},on:{click:function(t){e.$emit("ShowAll")}}},[e._v("\n\tAll\n")]),e._v(" "),a("v-btn",{attrs:{fab:"",flat:"",color:"blue"},on:{click:function(t){e.$emit("ToggleColor")}}},[e._v("\n\tColor\n")])],1)},staticRenderFns:[]};var v=a("VU/8")({name:"SpeedActions",props:["child","parent"],computed:{theChild:{get:function(){return this.child},set:function(){this.$emit("toggleFilterChild")}},theParent:{get:function(){return this.parent},set:function(){this.$emit("toggleFilterParent")}}}},g,!1,function(e){a("qt8U")},"data-v-e0cdec0c",null).exports,b={name:"SideMenu",props:["tables","child","parent"],data:function(){return{}},methods:{emitToggle:function(e){this.$emit("toggle",e)}},components:{SpeedActions:v}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-navigation-drawer",{staticClass:"pt-4",attrs:{app:"",clipped:"",fixed:"",right:"",permanent:"","hide-overlay":"",floating:""}},[a("SpeedActions",{attrs:{child:e.child,parent:e.parent},on:{ShowAll:function(t){e.$emit("ShowAll")},toggleFilterChild:function(t){e.$emit("toggleFilter","child")},toggleFilterParent:function(t){e.$emit("toggleFilter","parent")},ToggleColor:function(t){e.$emit("ToggleColor")}}}),e._v(" "),a("hr"),e._v(" "),e._l(e.tables,function(t,n){return a("v-card",{key:n,staticClass:"mt-1",attrs:{flat:""}},[a("v-card-title",{staticClass:"subheader",staticStyle:{boxShadow:"0 2px 3px 0 hsla(0, 0%, 0%, 0.1)"},attrs:{"primary-title":""},on:{click:function(a){e.emitToggle(t)}}},[e._v(e._s(t))])],1)})],2)},staticRenderFns:[]};var T=a("VU/8")(b,x,!1,function(e){a("XSUs")},"data-v-4ad837f9",null).exports,y=a("woOf"),j=a.n(y),w=a("Gu7T"),C=a.n(w),N=a("7nRM"),k=a.n(N),F=a("LGx0"),A=a.n(F),E=a("gagz"),O=a.n(E),$=a("RQBV"),S=a.n($);var M={colorGen:function(){var e=[];return e[0]=Math.random()*Math.floor(90)+Math.random()*Math.floor(180)+Math.random()*Math.floor(90),e[1]=25+Math.random()*Math.floor(75)+"%",e[2]=20+Math.random()*Math.floor(50)+"%","hsl("+e[0]+", "+e[1]+", "+e[2]+")"},parseKnex:function(e){var t=this,a=function(e){for(var t={},a=0;a<e.length&&a>=0&&(a=e.indexOf("CREATE TABLE"))>=0;){a=(e=e.substr(a+12)).indexOf("(");var n=e.slice(0,a).trim(),r=e.slice(a,e.indexOf(");")).split("\n").map(function(e){return e.replace(/\r/g,"").replace(/,/g,"").trim()}).filter(function(e){return e.length>1});n.includes("knex")||(t[n.trim()]=r.reduce(function(e,t){var a=t.split(" "),n=k()(a),r=n[0],s=n.slice(1);return e[r.trim()]=s.join(" ").trim(),e},{}))}return t}(e),n=l()(a),r=function(e){for(var t=0,a=[];t<e.length&&(t=e.indexOf("ALTER TABLE"))>=0;){t=(e=e.substr(t+12)).indexOf("\n");var n=e.slice(0,t);n.includes("ONLY")&&(n=n.split("ONLY")[1]),t=e.indexOf("FOREIGN KEY"),t=e.indexOf("(",t);var r=e.slice(t+1,e.indexOf(")"));t=(e=e.substr(t)).indexOf("REFERENCES");var s=e.slice(t+10,e.indexOf("(",t));a.push({tableName:n.trim(),ref:s.trim(),val:r.trim()})}return a}(e);r.map(function(e){e.tableName in a&&(console.log("tbName",e),a[e.tableName][e.val]=e.ref)}),console.log("WESH",a,"wsh"),this.tables=m()({},a),this.colors=l()(a).reduce(function(e,a){return e[a]=t.colorGen(),e},{}),this.references=[].concat(C()(r)),this.tableNames=[].concat(C()(n)),this.allTables=j()({},a)},read:function(e){var t=this;if(!e)return this.allTables=S.a,this.tableNames=[["account_validation",1],["companies",2],["company_members",3],["profiles",4],["project_members",5],["project_owner",6],["projects",7],["tags",8],["tasks",9],["user_tags",10],["users",11]],this.tables=S.a,this.colors=A.a,this.references=O.a,void(this.noFile=!1);j()(this.$data,this.$options.data.apply(this));for(var a,n=e.target.files,r=function(e,a){var n=new FileReader;n.onload=function(a){t.text.push(a.target.result),t.parseKnex(t.text[e])},n.readAsText(a)},s=0;a=n[s];s++)r(s,a);this.noFile=!1}},R={name:"HelloWorld",components:{Table:_,Usage:p,SideMenu:T,SpeedActions:v},data:function(){return{noFile:!0,msg:"Welcome to Your Vue.js App",child:!0,toggleInfo:!0,choice:"",parent:!0,selected:[],allTables:{},tables:{},tableNames:[],references:[],colors:{},text:[]}},methods:m()({},M,{toggleColor:function(){var e=this;this.tableNames.forEach(function(t){e.colorGen();e.$set(e.colors,t[0],e.colorGen())})},showAll:function(){console.log("LALA",d()(this.allTables,null,2)),this.tables=this.allTables},doTheThingFromChild:function(e){"child"==e?this.child=!this.child:"parent"==e&&(this.parent=!this.parent),this.doTheThing(this.choice,"from")},doTheThing:function(e,t){var a=this;e&&""!=e&&(this.choice=e,this.selected=[],this.selected.push(e),this.references.forEach(function(t){a.parent&&t.tableName==e&&a.selected.push(t.ref),a.child&&t.ref==e&&a.selected.unshift(t.tableName)}),this.tables=l()(this.allTables).filter(function(e){return a.selected.includes(e)}).reduce(function(e,t){return e[t]=a.allTables[t],e},{}))}})},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"",app:""}},[a("v-layout",{staticClass:"pt-5",staticStyle:{"padding-bottom":"5vh"},attrs:{"align-center":"","justify-center":"","align-content-center":""}},[a("input",{attrs:{type:"file"},on:{change:e.read}}),e._v(" "),e.noFile?a("v-btn",{on:{click:function(t){e.read()}}},[e._v("Demo")]):e._e()],1),e._v(" "),e.noFile?a("Usage"):a("div",[a("v-switch",{attrs:{label:"show and hide info"},model:{value:e.toggleInfo,callback:function(t){e.toggleInfo=t},expression:"toggleInfo"}}),e._v(" "),a("p",{staticClass:"subheading"},[e._v("\n      Click on a table and see what happens\n    ")]),e._v(" "),a("p",{staticClass:"caption"},[e._v("\n      Use cmd/ctrl "),a("b",[a("i",[e._v("+  -   0")])]),e._v(" to zoom/dezoom/orginal size\n    ")]),e._v(" "),a("SideMenu",{attrs:{child:e.child,parent:e.parent,tables:Object.keys(e.tables).sort()},on:{toggleFilter:e.doTheThingFromChild,toggle:e.doTheThing,ShowAll:e.showAll,ToggleColor:e.toggleColor}}),e._v(" "),a("v-content",[e._l(e.selected,function(t,n){return a("v-chip",{key:n,attrs:{color:t===e.choice?"amber lighten-2":e.selected.indexOf(t)<e.selected.indexOf(e.choice)?"blue":"green"},on:{click:function(a){e.doTheThing(t)}}},[e._v(e._s(t))])}),e._v(" "),a("v-layout",{attrs:{wrap:""},model:{value:e.tables,callback:function(t){e.tables=t},expression:"tables"}},[a("transition-group",{staticClass:"rs-flex",attrs:{name:"list"}},e._l(e.tables,function(t,n){return a("v-flex",{key:n},[a("Table",{attrs:{tKey:n,toggleInfo:e.toggleInfo,color:e.colors[n],colors:e.colors,tValue:t},on:{toggle:e.doTheThing}})],1)}))],1)],2)],1)],1)},staticRenderFns:[]};var V=a("VU/8")(R,U,!1,function(e){a("MKfQ")},"data-v-5879676d",null).exports;n.a.use(i.a);var K=new i.a({routes:[{path:"/",name:"MainView",component:V}]}),L=a("3EgV"),P=a.n(L);a("7zck");n.a.use(P.a),n.a.config.productionTip=!1,new n.a({el:"#app",router:K,components:{App:s},template:"<App/>"})},PHtK:function(e,t){},RQBV:function(e,t){e.exports={account_validation:{id:"integer",token:"character 128",email:"character 128",mail_sent:"boolean",creation_date:"timestamp"},companies:{id:"integer",user_id:"users",name:"character 128",creation_date:"timestamp",updated_at:"timestamp"},company_members:{id:"integer",company_id:"companies",user_id:"users",creation_date:"timestamp",updated_at:"timestamp"},profiles:{id:"integer",user_id:"users",first_name:"character 64",last_name:"character 64",picture:"character 256",description:"text",creation_date:"timestamp",updated_at:"timestamp"},project_members:{id:"integer",user_id:"users",project_id:"projects",creation_date:"timestamp",updated_at:"timestamp"},project_owner:{id:"integer",company_id:"companies",project_id:"projects",creation_date:"timestamp",updated_at:"timestamp"},projects:{id:"integer",name:"character 128",user_id:"users",creation_date:"timestamp"},tags:{id:"integer",name:"character 64",creation_date:"timestamp"},tasks:{id:"integer",project_id:"projects",user_id:"users",tag_id:"tags",description:"text",start:"timestamp",'"end"':"timestamp"},user_tags:{id:"integer",user_id:"users",tag_id:"tags",creation_date:"timestamp",updated_at:"timestamp"},users:{id:"integer",username:"character 128",email:"character 128",password:"character 256",admin:"boolean",valid:"boolean",creation_date:"timestamp"}}},XSUs:function(e,t){},gagz:function(e,t){e.exports=[{tableName:"companies",ref:"users",val:"user_id"},{tableName:"company_members",ref:"companies",val:"company_id"},{tableName:"company_members",ref:"users",val:"user_id"},{tableName:"profiles",ref:"users",val:"user_id"},{tableName:"project_members",ref:"projects",val:"project_id"},{tableName:"project_members",ref:"users",val:"user_id"},{tableName:"project_owner",ref:"companies",val:"company_id"},{tableName:"project_owner",ref:"projects",val:"project_id"},{tableName:"projects",ref:"users",val:"user_id"},{tableName:"tasks",ref:"projects",val:"project_id"},{tableName:"tasks",ref:"tags",val:"tag_id"},{tableName:"tasks",ref:"users",val:"user_id"},{tableName:"user_tags",ref:"tags",val:"tag_id"},{tableName:"user_tags",ref:"users",val:"user_id"}]},i5Qr:function(e,t){},qt8U:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.7d7a5f026c1476e607e5.js.map