webpackJsonp([1],{"+jVL":function(e,t){},"7zck":function(e,t){},LGx0:function(e,t){e.exports={profiles:"hsl(1.2221634632337608, 63.99043908882861%, 26.860315678359132%)",project_members:"hsl(334.20877636683076, 54.72122944471474%, 0.8258295476754363%)",project_owner:"hsl(86.88517474392467, 68.89158357403191%, 44.411075656514605%)",projects:"hsl(147.23610384187165, 97.35678770043427%, 40.335177763679546%)",tags:"hsl(247.3712053375716, 67.72470657885594%, 10.897243094819977%)",tasks:"hsl(221.27048826026186, 62.42865502339468%, 50.757648678182164%)",user_tags:"hsl(61.88084451723857, 65.51497487439119%, 52.19374417164229%)",users:"hsl(344.15223787690394, 42.20191938169789%, 33.862981528376764%)"}},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-app",[t("router-view")],1)},staticRenderFns:[]};var i=a("VU/8")({name:"App"},s,!1,function(e){a("QNYX")},null,null).exports,l=a("/ocq"),n=a("fZjL"),o=a.n(n),c=a("woOf"),d=a.n(c),p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-flex",{on:{click:function(t){e.emitToggle(e.tKey)}}},[a("v-card",{staticClass:"drawing",style:{borderTop:"6px solid",borderRadius:"20px 36px 10px 10px",borderColor:e.color,boxShadow:"0 4px 6px 0 hsla(0, 0%, 0%, 0.2)"},attrs:{flat:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("h1",[e._v(e._s(e.tKey))])]),e._v(" "),e._l(e.tValue,function(t,r){return a("v-flex",{key:r},[a("v-card-text",[a("h2",{style:{color:t in e.colors?e.colors[t]:"grey"}},[e._v(e._s(r))]),e._v(" "),a("h3",{style:{color:t in e.colors?e.colors[t]:"hsl(249,9%,80%)"}},[e._v(e._s(t))])])],1)}),e._v(" "),a("v-card-text")],2)],1)},staticRenderFns:[]};var u=a("VU/8")({name:"Table",props:["tKey","tValue","color","colors"],data:function(){return{}},computed:{},methods:{emitToggle:function(e){this.$emit("toggle",e)}},components:{}},p,!1,function(e){a("+jVL")},"data-v-ada1cab4",null).exports,h=a("LGx0"),m=a.n(h),f=a("gagz"),_=a.n(f),v=a("RQBV"),g=a.n(v),b={name:"HelloWorld",components:{Table:u},data:function(){return{noFile:!0,msg:"Welcome to Your Vue.js App",child:!0,choice:"",parent:!0,selected:[],allTables:{},tables:{},tableNames:[],references:[],colors:{},text:[]}},computed:{},watch:{child:function(){this.choice&&this.doTheThing(this.choice,"from")},parent:function(){this.choice&&this.doTheThing(this.choice,"from")}},methods:{colorGen:function(){var e=[];return e[0]=Math.random()*Math.floor(360),e[1]=Math.random()*Math.floor(80)+20+"%",e[2]=Math.random()*Math.floor(80)+"%","hsl("+e[0]+", "+e[1]+", "+e[2]+")"},parseKnex:function(e){for(var t=this,a=/CREATE TABLE `?(\w+)`? ?∆(.[^Ω]*)Ω/g,r=/CONSTRAINT `?(\w+)`? FOREIGN KEY \([`]?(\w+)[`]?\) REFERENCES (.[^(]+)/g,s=void 0,i=void 0,l=1,n=function(){s.index===a.lastIndex&&a.lastIndex++;var e={};s[2].split(",").map(function(e){return e.trim()}).filter(function(e){return!(e.startsWith("CONSTRAINT")||e.startsWith("KEY")||e.startsWith("PRIMARY"))}).map(function(t,a){var r=t.split(" ");e[[r[0].replace(/`| /g,"")]]=r[1]+("character"==r[1]?" "+r[2].split("(")[1].split(")")[0]:"")}),t.tableNames.push([s[1],l++]),t.$set(t.tables,s[1],e),t.$set(t.colors,s[1],t.colorGen())};null!==(s=a.exec(e));)n();for(;null!==(i=r.exec(e));){i.index===r.lastIndex&&r.lastIndex++;var o=i[1].replace(/_\w[^_]+_id_foreign/,""),c=i[3].replace(/`| /g,"");this.references.push({tableName:o,ref:c,val:i[2]}),o in this.tables&&(this.tables[o][[i[2]]]=c)}this.allTables=d()({},this.tables)},read:function(e){var t=this;if(!e)return this.allTables=g.a,this.tables=g.a,this.colors=m.a,this.references=_.a,void(this.noFile=!1);d()(this.$data,this.$options.data.apply(this));for(var a,r=e.target.files,s=function(e,a){var r=new FileReader;r.onload=function(a){t.text.push(a.target.result.replace(/\(\s/g,"∆").replace(/\)(;| E)/g,"Ω").replace(/\n|\r/g,"")),t.parseKnex(t.text[e])},r.readAsText(a)},i=0;a=r[i];i++)s(i,a);this.noFile=!1},doTheThing:function(e,t){var a=this;e&&""!=e&&(this.choice=e,this.selected=[],t||o()(this.tables).length===o()(this.allTables).length?(this.selected.push(e),this.references.forEach(function(t){a.parent&&t.tableName==e&&a.selected.push(t.ref),a.child&&t.ref==e&&a.selected.unshift(t.tableName)}),this.tables=o()(this.allTables).filter(function(e){return a.selected.includes(e)}).reduce(function(e,t){return e[t]=a.allTables[t],e},{})):(this.choice="",this.tables=this.allTables))}}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[e.noFile?a("div",[a("h4",[e._v("Example: postgresql use : pg_dump -s databasename > file.sql")]),e._v(" "),a("h4",[e._v("Example:  sql use mysqldump -u root -p --no-data dbname > schema.sql")]),e._v(" "),a("h5",[e._v(" Then use that file")]),e._v(" "),a("v-btn",{on:{click:function(t){e.read()}}},[e._v("Demo")])],1):a("div",[e._l(e.selected,function(t,r){return a("v-chip",{key:r,attrs:{col:"",wrap:"",color:t===e.choice?"amber lighten-2":e.selected.indexOf(t)<e.selected.indexOf(e.choice)?"blue":"green"}},[e._v(e._s(t))])}),e._v(" "),a("v-flex",{attrs:{"align-content-start":""}},[a("h1",[e._v("click align table")]),e._v(" "),a("v-switch",{attrs:{label:"child"},model:{value:e.child,callback:function(t){e.child=t},expression:"child"}}),e._v(" "),a("v-switch",{attrs:{label:"parent",color:"green"},model:{value:e.parent,callback:function(t){e.parent=t},expression:"parent"}})],1)],2),e._v(" "),a("input",{attrs:{type:"file",multiple:""},on:{change:e.read}}),e._v(" "),a("v-layout",{attrs:{wrap:""},model:{value:e.tables,callback:function(t){e.tables=t},expression:"tables"}},[a("transition-group",{staticClass:"rs-flex",attrs:{name:"list"}},e._l(e.tables,function(t,r){return a("v-flex",{key:r},[a("Table",{attrs:{tKey:r,color:e.colors[r],colors:e.colors,tValue:t},on:{toggle:e.doTheThing}})],1)}))],1)],1)},staticRenderFns:[]};var T=a("VU/8")(b,x,!1,function(e){a("xoGf")},"data-v-42f23268",null).exports;r.a.use(l.a);var j=new l.a({routes:[{path:"/",name:"HelloWorld",component:T}]}),N=a("3EgV"),w=a.n(N);a("7zck");r.a.use(w.a),r.a.config.productionTip=!1,new r.a({el:"#app",router:j,components:{App:i},template:"<App/>"})},QNYX:function(e,t){},RQBV:function(e,t){e.exports={profiles:{id:"integer",user_id:"users",first_name:"character 64",last_name:"character 64",picture:"character 256",description:"text",creation_date:"timestamp",updated_at:"timestamp"},project_members:{id:"integer",user_id:"users",project_id:"projects",creation_date:"timestamp",updated_at:"timestamp"},project_owner:{id:"integer",company_id:"companies",project_id:"projects",creation_date:"timestamp",updated_at:"timestamp"},projects:{id:"integer",name:"character 128",user_id:"users",creation_date:"timestamp"},tags:{id:"integer",name:"character 64",creation_date:"timestamp"},tasks:{id:"integer",project_id:"projects",user_id:"users",tag_id:"tags",description:"text",start:"timestamp",'"end"':"timestamp"},user_tags:{id:"integer",user_id:"users",tag_id:"tags",creation_date:"timestamp",updated_at:"timestamp"},users:{id:"integer",username:"character 128",email:"character 128",password:"character 256",admin:"boolean",valid:"boolean",creation_date:"timestamp"}}},gagz:function(e,t){e.exports=[{tableName:"profiles",ref:"users",val:"user_id"},{tableName:"project_members",ref:"projects",val:"project_id"},{tableName:"project_members",ref:"users",val:"user_id"},{tableName:"project_owner",ref:"projects",val:"project_id"},{tableName:"projects",ref:"users",val:"user_id"},{tableName:"tasks",ref:"projects",val:"project_id"},{tableName:"tasks",ref:"tags",val:"tag_id"},{tableName:"tasks",ref:"users",val:"user_id"},{tableName:"user_tags",ref:"tags",val:"tag_id"},{tableName:"user_tags",ref:"users",val:"user_id"}]},xoGf:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.eeaf2fe28d55383a189c.js.map